# 后台管理系统模块设计文档

## 1. 模块概述

### 1.1 功能描述
后台管理系统基于hyperf-admin开发，提供网站内容管理、用户管理、系统配置等功能。

### 1.2 模块位置
- 后台首页：/admin
- 各功能模块子路径：/admin/{module}
- 项目目录：admin/
- 开发环境：Docker容器运行（支持热重载）

## 2. 系统架构

### 2.1 技术栈
- 后端：Hyperf框架 + hyperf-admin
- 前端：Vue.js + Element UI
- 数据库：MySQL 8.0
- 缓存：Redis 7

### 2.2 架构设计
- 前后端分离架构
- RBAC权限控制模型
- 配置化页面渲染
- 微服务友好的设计

#### Hyperf标准符合性
- 基于Hyperf框架构建，完全兼容Hyperf生态系统
- 使用hyperf-admin作为管理后台解决方案
- 遵循Hyperf的配置化开发模式
- 集成Hyperf的标准组件和中间件

## 3. 功能模块

### 3.1 仪表板模块

#### 功能描述
提供网站整体运行状态的概览信息。

#### 核心功能
- 数据统计卡片展示
- 图表数据可视化
- 最新活动列表
- 系统状态监控

### 3.2 用户管理模块

#### 功能描述
管理系统中的所有用户账户。

#### 核心功能
- 用户列表查看和搜索
- 用户状态管理（启用/禁用）
- 用户角色分配
- 用户信息编辑
- 用户删除（软删除）

### 3.3 博客管理模块

#### 功能描述
创建、编辑、删除博客文章。

#### 核心功能
- 博客文章增删改查
- 分类管理（增删改查）
- 标签管理（增删改查）
- 文章状态管理（草稿/发布）
- Markdown编辑器支持

### 3.4 作品管理模块

#### 功能描述
管理系统中的作品信息。

#### 核心功能
- 作品信息增删改查
- 分类管理（增删改查）
- 图片上传和管理
- 外链管理

### 3.5 笔记管理模块

#### 功能描述
管理脑图笔记系统。

#### 核心功能
- 脑图根节点管理
- 脑图节点编辑
- 双向链接管理
- Markdown内容编辑
- 脑图导出功能

### 3.6 评论管理模块

#### 功能描述
审核和管理用户评论。

#### 核心功能
- 评论列表查看
- 评论状态管理（待审核/已审核/已拒绝）
- 评论删除
- 评论回复

### 3.7 系统配置模块

#### 功能描述
管理系统参数和配置。

#### 核心功能
- 网站基本信息配置
- SEO参数设置
- 邮件配置
- 第三方服务配置

## 4. 权限体系

### 4.1 用户角色
- 超级管理员：拥有所有权限
- 管理员：可管理内容和用户
- 编辑者：可管理内容
- 审核员：可审核评论

### 4.2 权限控制
- 菜单权限控制
- 操作按钮权限控制
- 数据权限控制
- API接口权限控制

#### Hyperf标准符合性
- 基于Hyperf的RBAC权限模型实现
- 集成Hyperf的权限验证中间件
- 使用Hyperf的注解进行权限控制

### 4.3 访问控制
- 登录状态验证
- 权限检查机制
- 操作日志记录
- 安全审计支持

## 5. 接口设计

### 5.1 后端接口
- /admin/api/auth/* - 认证相关接口
- /admin/api/users/* - 用户管理接口
- /admin/api/blog/* - 博客管理接口
- /admin/api/portfolio/* - 作品管理接口
- /admin/api/notes/* - 笔记管理接口
- /admin/api/comments/* - 评论管理接口
- /admin/api/config/* - 系统配置接口

### 5.2 接口规范
- 统一的响应格式
- JWT令牌认证
- 参数验证机制
- 错误处理机制

## 6. 性能优化

### 6.1 前端优化
- 组件懒加载
- 路由懒加载
- 图片懒加载
- 数据缓存机制

### 6.2 后端优化
- 数据库查询优化
- Redis缓存使用
- 协程连接池配置
- API响应缓存

### 6.3 系统优化
- 静态资源压缩
- CDN加速支持
- 数据库索引优化
- 查询结果缓存

## 7. 安全设计

### 7.1 认证安全
- JWT令牌安全存储
- HTTPS强制使用
- CSRF防护
- 登录频率限制

### 7.2 数据安全
- 敏感数据加密
- SQL注入防护
- XSS攻击防护
- 文件上传安全

### 7.3 操作安全
- 操作日志记录
- 敏感操作二次确认
- 权限变更审计
- 数据备份机制

## 8. 部署架构

### 8.1 部署环境
- 线上环境：阿里云ECS单机部署
- 开发环境：Docker Compose容器化部署

### 8.2 服务配置
- Nginx反向代理
- systemd服务管理
- 环境变量配置
- SSL证书配置